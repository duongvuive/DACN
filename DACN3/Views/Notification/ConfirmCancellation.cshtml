
@{
    ViewData["Title"] = "ConfirmCancellation";
}

<h1>ConfirmCancellation</h1>

<form id="cancelForm" method="post" action="/Notification/CancelNotification">
    <input type="hidden" name="id" value="@TempData["NotificationId"]">
    <input type="hidden" name="value" value="@TempData["Value"]">

    <label for="reason">Reason:</label>
    <input type="text" id="reason" name="Reason" required>

    <button type="submit">Submit</button>
</form>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $('#cancelForm').submit(function (event) {
            event.preventDefault(); // Ngăn chặn gửi form mặc định

            var form = $(this);
            $.ajax({
                url: form.attr('action'),
                method: form.attr('method'),
                data: form.serialize(),
                success: function (response) {
                    alert("Thông báo hủy đã được gửi thành công!");
                    window.location.href = "/Notification/TrangChu" ;
                },
                error: function (error) {
                    console.log("Đã xảy ra lỗi: " + error);
                }
            });
        });
    });
</script>
